<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<script>
today = new Date();

proc1 = () =>{
	//
	myday = new Date("1997. 10. 28");
	
	ctime = today.getTime();
	mytime = myday.getTime();
	
	console.log(ctime, mytime);
	
	times = ctime-mytime;
	
	days = times/1000/60/60/24/365;
	str = "현재: "+today.toLocaleDateString()+"<br>";
	str += "내 생일: "+myday.toLocaleDateString()+"<br>";
	str += parseInt(days)+"년 동안 살고 있습니다." +"<br>";
	
	document.getElementById('result1').innerHTML = str;
}

proc2=()=>{
	totime = today.getTime();
	
	//100일의 getTme
	time100= 24* 60*60*1000*100;
	times= totime + time100;
	
	//새로운 날짜 생성
	day100 = new Date(times);
	
	str = "현재: "+today.toLocaleDateString()+"<br>";
	str += "100일 후 : "+day100.toLocaleDateString()+"<br>";
	
	document.getElementById('result2').innerHTML = str;
}

proc3=()=>{
	//입력된 날짜값을 가져온다.
	//id inday요소 접근 
	invalue = document.getElementById('inday').value; //문자열
	
	//invalue로 date객체 생성
	inday = new Date(invalue);
	
	//현재와 선택날짜 사이의 간격을 구한다. getTime과 getTime의 연산
	times = today.getTime() - inday.getTime();
	
	//일수 계산
	days = times/1000/60/60/24;
	console.log(days)
	
	//교환환불되는지아닌지...
	str = "";
	if(days<0){
		str += "조회일 이후의 날짜는 선택하실 수 없습니다.";
	}else{
	 if(days>7){
		str += "규정상 구매하신지 7일이 지난 상품은 교환/환불처리가 불가능합니다. <br>";
		str += `구매하신지 ${parseInt(days)}일 지났습니다.`;
	 }else{
		str += "구매하신지"+parseInt(days)+"일 지나셨습니다. 금방 교환/환불해드리겠습니다.";
	 }
	}
	
	 
// 	document.getElementById('result3').innerHTML = str;
	document.querySelector('#result3').innerHTML = str;
}

</script>
</head>
<body>

<div class="box">
 <h4>태어난 날로부터 현재까지 경과한 날</h4>
 <input type="button" value="확인" onclick="proc1()">
 <br><br>
 <div id="result1"></div>
</div>

<div class="box">
 <h4>100일 경과후의 날짜구하기</h4>
 <input type="button" value="확인" onclick="proc2()">
 <br><br>
 <div id="result2"></div>
</div>

<div class="box">
 <h4>구매일로부터 현재까지 7일 경과 비교, 반품/환불/교환여부 결정</h4>
 <br><br>
 <input type="date" id="inday">
 <input type="button" value="확인" onclick="proc3()">
 <br><br>
 <div id="result3"></div>
</div>
</body>
</html>